$(document).ready(() => {
  for (let i = 0; i < 72; i++) {
    if (i < 10)
      $('body').append(`<div id="preload-image-${i}" style="background-image: url('static/HoverAnimations/PI/PI000${i}.png');"</div>`)
    else
      $('body').append(`<div id="preload-image-${i}" style="background-image: url('static/HoverAnimations/PI/PI00${i}.png');"</div>`)
  }
  for (let i = 0; i < 72; i++) {
    if (i < 10)
      $('body').append(`<div id="preload-image-${i}" style="background-image: url('static/HoverAnimations/SI/SI000${i}.png');"</div>`)
    else
      $('body').append(`<div id="preload-image-${i}" style="background-image: url('static/HoverAnimations/SI/SI00${i}.png');"</div>`)
  }
  for (let i = 0; i < 72; i++) {
    if (i < 10)
      $('body').append(`<div id="preload-image-${i}" style="background-image: url('static/HoverAnimations/BI/BI000${i}.png');"</div>`)
    else
      $('body').append(`<div id="preload-image-${i}" style="background-image: url('static/HoverAnimations/BI/BI00${i}.png');"</div>`)
  }
  for (let i = 0; i < 72; i++) {
    if (i < 10)
      $('body').append(`<div id="preload-image-${i}" style="background-image: url('static/HoverAnimations/LSR/LSR000${i}.png');"</div>`)
    else
      $('body').append(`<div id="preload-image-${i}" style="background-image: url('static/HoverAnimations/LSR/LSR00${i}.png');"</div>`)
  }
  for (let i = 0; i < 72; i++) {
    if (i < 10)
      $('body').append(`<div id="preload-image-${i}" style="background-image: url('static/HoverAnimations/SR/SR000${i}.png');"</div>`)
    else
      $('body').append(`<div id="preload-image-${i}" style="background-image: url('static/HoverAnimations/SR/SR00${i}.png');"</div>`)
  }
  for (let i = 0; i < 72; i++) {
    if (i < 10)
      $('body').append(`<div id="preload-image-${i}" style="background-image: url('static/HoverAnimations/DFD/DFD000${i}.png');"</div>`)
    else
      $('body').append(`<div id="preload-image-${i}" style="background-image: url('static/HoverAnimations/DFD/DFD00${i}.png');"</div>`)
  }
  for (let i = 0; i < 72; i++) {
    if (i < 10)
      $('body').append(`<div id="preload-image-${i}" style="background-image: url('static/HoverAnimations/DRE/DRE000${i}.png');"</div>`)
    else
      $('body').append(`<div id="preload-image-${i}" style="background-image: url('static/HoverAnimations/DRE/DRE00${i}.png');"</div>`)
  }
  for (let i = 0; i < 72; i++) {
    if (i < 10)
      $('body').append(`<div id="preload-image-${i}" style="background-image: url('static/HoverAnimations/EP/EP000${i}.png');"</div>`)
    else
      $('body').append(`<div id="preload-image-${i}" style="background-image: url('static/HoverAnimations/EP/EP00${i}.png');"</div>`)
  }
  for (let i = 0; i < 72; i++) {
    if (i < 10)
      $('body').append(`<div id="preload-image-${i}" style="background-image: url('static/HoverAnimations/GQI/GQI000${i}.png');"</div>`)
    else
      $('body').append(`<div id="preload-image-${i}" style="background-image: url('static/HoverAnimations/GQI/GQI00${i}.png');"</div>`)
  }
  for (let i = 0; i < 72; i++) {
    if (i < 10)
      $('body').append(`<div id="preload-image-${i}" style="background-image: url('static/HoverAnimations/I/I000${i}.png');"</div>`)
    else
      $('body').append(`<div id="preload-image-${i}" style="background-image: url('static/HoverAnimations/I/I00${i}.png');"</div>`)
  }
  for (let i = 0; i < 72; i++) {
    if (i < 10)
      $('body').append(`<div id="preload-image-${i}" style="background-image: url('static/HoverAnimations/LS/LS000${i}.png');"</div>`)
    else
      $('body').append(`<div id="preload-image-${i}" style="background-image: url('static/HoverAnimations/LS/LS00${i}.png');"</div>`)
  }
  for (let i = 0; i < 72; i++) {
    if (i < 10)
      $('body').append(`<div id="preload-image-${i}" style="background-image: url('static/HoverAnimations/NCI/NCI000${i}.png');"</div>`)
    else
      $('body').append(`<div id="preload-image-${i}" style="background-image: url('static/HoverAnimations/NCI/NCI00${i}.png');"</div>`)
  }
  for (let i = 0; i < 72; i++) {
    if (i < 10)
      $('body').append(`<div id="preload-image-${i}" style="background-image: url('static/HoverAnimations/NS/NS000${i}.png');"</div>`)
    else
      $('body').append(`<div id="preload-image-${i}" style="background-image: url('static/HoverAnimations/NS/NS00${i}.png');"</div>`)
  }
  for (let i = 0; i < 72; i++) {
    if (i < 10)
      $('body').append(`<div id="preload-image-${i}" style="background-image: url('static/HoverAnimations/ODEI/ODEI000${i}.png');"</div>`)
    else
      $('body').append(`<div id="preload-image-${i}" style="background-image: url('static/HoverAnimations/ODEI/ODEI00${i}.png');"</div>`)
  }
  for (let i = 0; i < 72; i++) {
    if (i < 10)
      $('body').append(`<div id="preload-image-${i}" style="background-image: url('static/HoverAnimations/ODEPC/ODEPC000${i}.png');"</div>`)
    else
      $('body').append(`<div id="preload-image-${i}" style="background-image: url('static/HoverAnimations/ODEPC/ODEPC00${i}.png');"</div>`)
  }
  for (let i = 0; i < 72; i++) {
    if (i < 10)
      $('body').append(`<div id="preload-image-${i}" style="background-image: url('static/HoverAnimations/ODERK/ODERK000${i}.png');"</div>`)
    else
      $('body').append(`<div id="preload-image-${i}" style="background-image: url('static/HoverAnimations/ODERK/ODERK00${i}.png');"</div>`)
  }
  for (let i = 0; i < 72; i++) {
    if (i < 10)
      $('body').append(`<div id="preload-image-${i}" style="background-image: url('static/HoverAnimations/PDE/PDE000${i}.png');"</div>`)
    else
      $('body').append(`<div id="preload-image-${i}" style="background-image: url('static/HoverAnimations/PDE/PDE00${i}.png');"</div>`)
  }
  for (let i = 0; i < 72; i++) {
    if (i < 10)
      $('body').append(`<div id="preload-image-${i}" style="background-image: url('static/HoverAnimations/RI/RI000${i}.png');"</div>`)
    else
      $('body').append(`<div id="preload-image-${i}" style="background-image: url('static/HoverAnimations/RI/RI00${i}.png');"</div>`)
  }
  for (let i = 0; i < 72; i++) {
    if (i < 10)
      $('body').append(`<div id="preload-image-${i}" style="background-image: url('static/HoverAnimations/TS/TS000${i}.png');"</div>`)
    else
      $('body').append(`<div id="preload-image-${i}" style="background-image: url('static/HoverAnimations/TS/TS00${i}.png');"</div>`)
  }
});

function ForwardAnimation(el) {
  let elid = el.id;
  if (el.id.includes("_")) {
    elid = el.id.substring(0, el.id.length - 1);
  }
  let imagePath = 'static/HoverAnimations/' + elid + '/' + elid + '00';
  const totalFrames = 71;
  let timePerFrame = 30;
  if (elid == "EP" || elid == "LS") {
    timePerFrame = 15;
  }
  let timeWhenLastUpdate;
  let timeFromLastUpdate;
  let length = document.getElementById(el.id + "0000").src.length;
  let frameNumber = parseInt(document.getElementById(el.id + "0000").src[length - 6] + document.getElementById(el.id + "0000").src[length - 5]);;

  function step(startTime) {
    if (!timeWhenLastUpdate) timeWhenLastUpdate = startTime;

    timeFromLastUpdate = startTime - timeWhenLastUpdate;

    if (timeFromLastUpdate > timePerFrame) {
      if (frameNumber < 10)
        document.getElementById(el.id + "0000").setAttribute('src', imagePath + `0${frameNumber}.png`);
      else
        document.getElementById(el.id + "0000").setAttribute('src', imagePath + `${frameNumber}.png`);
      timeWhenLastUpdate = startTime;

      if (frameNumber >= totalFrames) {
        return;
      } else {
        el.addEventListener("mouseleave", function () { frameNumber = 70; });
        frameNumber = frameNumber + 1;
      }
    }
    requestAnimationFrame(step);

  }
  step(0);


}
function BackwardAnimation(el) {
  let elid = el.id;
  if (el.id.includes("_")) {
    elid = el.id.substring(0, el.id.length - 1);
  }
  let imagePath = 'static/HoverAnimations/' + elid + '/' + elid + '00';
  let timePerFrame = 15;
  if (elid == "EP" || elid == "LS") {
    timePerFrame = 5;
  }
  let timeWhenLastUpdate;
  let timeFromLastUpdate;
  let length = document.getElementById(el.id + "0000").src.length;
  let frameNumber = parseInt(document.getElementById(el.id + "0000").src[length - 6] + document.getElementById(el.id + "0000").src[length - 5]);

  function step(startTime) {
    if (!timeWhenLastUpdate) timeWhenLastUpdate = startTime;

    timeFromLastUpdate = startTime - timeWhenLastUpdate;

    if (timeFromLastUpdate > timePerFrame) {
      if (frameNumber < 10)
        document.getElementById(el.id + "0000").setAttribute('src', imagePath + `0${frameNumber}.png`);
      else
        document.getElementById(el.id + "0000").setAttribute('src', imagePath + `${frameNumber}.png`);
      timeWhenLastUpdate = startTime;

      if (frameNumber <= 0) {
        return;
      } else {
        el.addEventListener("mouseleave", function () { frameNumber = 1; });
        frameNumber = frameNumber - 1;
      }
    }

    requestAnimationFrame(step);
  }

  step(0);

}
